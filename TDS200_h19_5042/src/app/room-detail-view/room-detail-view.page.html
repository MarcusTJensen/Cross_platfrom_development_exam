<!--<ion-header>
  <ion-toolbar class="detailViewHeader">
    <ion-title class="detailViewPageTitle">roomDetailView</ion-title>
    <ion-buttons slot="start">
      <ion-back-button class="backButton"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>-->
<ion-header></ion-header>

<ion-content class="padding-top">
<ion-card class="roomCard">
<div class="imgOverlay">
 <img [src]="imgUrl" class="detailViewImage" />
</div>
 <ion-card-content class="contentPaddingBottom">
 <ion-row class="detailViewRow">
  <ion-col col-6 class="detailViewColumn">
    <ion-item class="roomCardItem">
    <ion-label class="detailViewCardTitle">{{title}}</ion-label>
  </ion-item>
  </ion-col>
</ion-row>
<ion-row>
  <ion-label class="detailViewCardLabel"> Info: {{description}}</ion-label>
</ion-row>
<ion-row>
  <ion-label class="detailViewCardLabel">Posted By: {{owner}}</ion-label>
</ion-row>
<ion-row>
    <ion-label class="detailViewCardLabel">Address: {{address}}</ion-label>
</ion-row>
<ion-row class="buttonsRow">
    <ion-col col-6>
    <ion-button shape="round" (click) ="openMapWithDirections()" class="mapBtn">
        <ion-icon name="map"></ion-icon>
    </ion-button>
  </ion-col>
  <ion-col col-7>
    <ion-button shape="round" (click)="addRating()" class="mapBtn"> 
      <ion-icon name="star"></ion-icon>
    </ion-button>
  </ion-col>
</ion-row>
</ion-card-content>
</ion-card>
<ion-button (click)="bookRoom()" shape="round" *ngIf="isAvailable; else unavailable" class="bookingButton">Book Room</ion-button>
<ng-template #unavailable>
  <ion-button (click)="unBookRoom()" shape="round" class="bookingButton">Unbook room</ion-button>
  <ion-card *ngIf="isRating">
    <ion-card-content>
        <rating [(ngModel)]="rate"
          readonly="false"
          size="default" 
          (rateChange)="onRateChange($event)">
        </rating>
        <ion-textarea [(ngModel)]="comment" placeholder="Comment" type="text"></ion-textarea>
        <ion-button (click)="finishedRating()">Rate</ion-button>
    </ion-card-content>
  </ion-card>
</ng-template>
<ion-row *ngFor="let rating of ratings" class="ratingRow">
      <!--<ion-label>{{rating.rating}}</ion-label>
      <ion-label>{{rating.comment}}</ion-label>-->
  <ion-card class="ratingCard">
    <ion-card-content class="contentNoPaddingLeft">
      <ion-item lines="none" class="starsItem">
        <ion-icon name="star" *ngFor="let i of Arr(rating.rating).fill(1)" class="ratingStars"></ion-icon>
      </ion-item>
      <ion-item lines="none" class="ratingInfoItem">
        <ion-label class="ratingComment" slot="start">"{{rating.comment}}"</ion-label>
        <ion-label class="ratingWriter" slot="end">-{{rating.writer}}</ion-label>
      </ion-item>
    </ion-card-content>
  </ion-card>
</ion-row>
</ion-content>

<app-tabbar></app-tabbar>
